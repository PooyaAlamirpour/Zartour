$(window).on("load",function(){function t(t){return t.population=+t.population,t}function a(){e=n.node().getBoundingClientRect().width,i=Math.min(e,r)/2,u.attr("width",e),c.attr("width",e).attr("transform","translate("+e/2+","+r/2+")"),o=d3.svg.arc().outerRadius(i-10).innerRadius(0),s=d3.svg.arc().outerRadius(i-60).innerRadius(i-60),c.selectAll("path").attr("d",o),c.selectAll("text").attr("transform",function(t){return"translate("+s.centroid(t)+")"})}var n=d3.select("#basic-pie"),e=n.node().getBoundingClientRect().width,r=500,i=Math.min(e,r)/2,d=d3.scale.ordinal().range(["#99B898","#FECEA8","#FF847C","#E84A5F","#F8B195","#F67280","#C06C84"]),o=d3.svg.arc().outerRadius(i-10).innerRadius(0),s=d3.svg.arc().outerRadius(i-60).innerRadius(i-60),l=d3.layout.pie().sort(null).value(function(t){return t.population}),u=n.append("svg"),c=u.attr("width",e).attr("height",r).append("g").attr("transform","translate("+e/2+","+r/2+")");d3.csv("../../../app-assets/data/d3/pie/pie.csv",t,function(t,a){if(t)throw t;var n=c.selectAll(".arc").data(l(a)).enter().append("g").attr("class","arc");n.append("path").attr("d",o).style("fill",function(t){return d(t.data.age)}).style("stroke","#FFF"),n.append("text").attr("transform",function(t){return"translate("+s.centroid(t)+")"}).attr("dy",".35em").style("fill","#FFF").text(function(t){return t.data.age})}),$(window).on("resize",a),$(".menu-toggle").on("click",a)});