$(window).on("load",function(){function n(n){if(e=n.parent){var e,a=e.x,d=.8;e.children.forEach(function(r){a+=t(r,a,r===n?e.dx*d/n.value:e.dx*(1-d)/(e.value-n.value))})}else t(n,0,n.dx/n.value);path.transition().duration(750).attrTween("d",r)}function t(n,e,r){if(n.x=e,n.children&&(a=n.children.length))for(var a,d=-1;++d<a;)e+=t(n.children[d],e,r);return n.dx=n.value*r}function e(n){n.x0=n.x,n.dx0=n.dx}function r(n){var t=d3.interpolate({x:n.x0,dx:n.dx0},n);return function(e){var r=t(e);return n.x0=r.x,n.dx0=r.dx,l(r)}}var a=d3.select("#sunburst-distortion"),d=a.node().getBoundingClientRect().width,i=400;radius=190;var u=d3.scale.ordinal().range(["#99B898","#FECEA8","#FF847C","#E84A5F","#C06C84","#6C5B7B","#355C7D"]),o=d3.layout.partition().size([2*Math.PI,radius]).value(function(n){return n.size}),l=d3.svg.arc().startAngle(function(n){return n.x}).endAngle(function(n){return n.x+n.dx}).innerRadius(function(n){return n.y}).outerRadius(function(n){return n.y+n.dy}),c=a.append("svg").attr("width",d).attr("height",i).append("g").attr("transform","translate("+d/2+","+i/2+")");d3.json("../../../app-assets/data/d3/circle/flare.json",function(t,r){if(t)throw t;path=c.data([r]).selectAll("path").data(o.nodes).enter().append("path").attr("d",l).style("fill",function(n){return u((n.children?n:n.parent).name)}).on("click",n).each(e)})});