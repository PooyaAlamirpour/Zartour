$(window).on("load",function(){function t(t){return t.value=+t.value,t}function a(){r=e.node().getBoundingClientRect().width-n.left-n.right,c.attr("width",r+n.left+n.right),u.attr("width",r+n.left+n.right),l.range([0,r]),u.selectAll(".d3-xaxis").call(d),u.selectAll(".d3-yaxis").attr("transform","translate("+l(0)+",0)"),u.selectAll(".d3-bar").attr("x",function(t){return l(Math.min(0,t.value))}).attr("y",function(t){return o(t.name)}).attr("width",function(t){return Math.abs(l(t.value)-l(0))})}var e=d3.select("#bar-negative"),n={top:20,right:20,bottom:30,left:50},r=e.node().getBoundingClientRect().width-n.left-n.right,i=500-n.top-n.bottom,l=d3.scale.linear().range([0,r]),o=d3.scale.ordinal().rangeRoundBands([0,i],.1),d=d3.svg.axis().scale(l).orient("bottom"),s=d3.svg.axis().scale(o).orient("left").tickSize(0).tickPadding(6),c=e.append("svg"),u=c.attr("width",r+n.left+n.right).attr("height",i+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");d3.tsv("../../../app-assets/data/d3/bar/bar-negative.tsv",t,function(t,a){if(t)throw t;l.domain(d3.extent(a,function(t){return t.value})).nice(),o.domain(a.map(function(t){return t.name})),u.selectAll(".d3-bar").data(a).enter().append("rect").attr("class",function(t){return"d3-bar d3-bar--"+(t.value<0?"negative":"positive")}).attr("x",function(t){return l(Math.min(0,t.value))}).attr("y",function(t){return o(t.name)}).attr("width",function(t){return Math.abs(l(t.value)-l(0))}).attr("height",o.rangeBand()),u.append("g").attr("class","d3-axis d3-xaxis").attr("transform","translate(0,"+i+")").call(d),u.append("g").attr("class","d3-axis d3-yaxis").attr("transform","translate("+l(0)+",0)").call(s)}),$(window).on("resize",a),$(".menu-toggle").on("click",a)});