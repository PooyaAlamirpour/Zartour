$(window).on("load",function(){function t(t){function e(t,a){a.children?a.children.forEach(function(t){e(a.name,t)}):n.push({packageName:t,className:a.name,value:a.size})}var n=[];return e(null,t),{children:n}}var e=d3.select("#bubble-chart"),n=960,a=d3.format(",d"),r=d3.scale.category20c(),l=d3.layout.pack().sort(null).size([n,n]).padding(1.5),s=e.append("svg").attr("width",n).attr("height",n).attr("class","bubble");d3.json("../../../app-assets/data/d3/other/flare.json",function(e,n){if(e)throw e;var c=s.selectAll(".node").data(l.nodes(t(n)).filter(function(t){return!t.children})).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"});c.append("title").text(function(t){return t.className+": "+a(t.value)}),c.append("circle").attr("r",function(t){return t.r}).style("fill",function(t){return r(t.packageName)}),c.append("text").attr("dy",".3em").style("text-anchor","middle").style("font-size","10px").text(function(t){return t.className.substring(0,t.r/3)})}),d3.select(self.frameElement).style("height",n+"px")});